<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="mystyle.css">
    <title>Etch-A-Sketch</title>
</head>
<body>
    <div class="container">
    </div>
</body>
    <script>
        const container = document.querySelector('.container');
        let temp = "";

        function getTemplateColumns(colNum){
            this.colNum = colNum;
            for (let i = 0; i<colNum; i++){
                temp += " auto";
            }
            console.log(temp)
        }

        function createGrid(rowNum, colNum){
            getTemplateColumns(colNum);
            for(let i=0; i<rowNum; i++){
                for(let j=0; j<colNum; j++){
                    let box = document.createElement('div');
                    box.classList.add('gridElement');
                    container.style.gridTemplateColumns = temp;
                    container.appendChild(box);
                }
            }
        }

        createGrid(16,16);

        function removeTransition(e){
            e.target.classList.remove('activated');
        }

        const boxes = document.querySelectorAll('.gridElement');

        boxes.forEach(function(box){
            box.addEventListener('mouseover', function(){
                box.classList.add('activated');
            });
        });

        boxes.forEach(box => box.addEventListener('transitionend', removeTransition));
    </script>
</html>